<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign up - Spotify Clone</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body class="auth-page">
    <div class="auth-container">
        <div class="auth-box">
            <div class="auth-logo">
                <i class="fab fa-spotify"></i>
            </div>
            <h1>Sign up for free to start listening</h1>
            
            <div id="error-message" class="error-message" style="display: none;"></div>
            <div id="success-message" class="success-message" style="display: none;"></div>

            <form id="register-form" class="auth-form">
                <div class="form-group">
                    <label for="email">What's your email?</label>
                    <input type="email" id="email" name="email" placeholder="Enter your email" required>
                    <span class="input-hint">You'll need to confirm this email later.</span>
                </div>
                <div class="form-group">
                    <label for="username">Create a username</label>
                    <input type="text" id="username" name="username" placeholder="Create a username" required minlength="3">
                    <span class="input-hint">This appears on your profile.</span>
                </div>
                <div class="form-group">
                    <label for="password">Create a password</label>
                    <div class="password-input">
                        <input type="password" id="password" name="password" placeholder="Create a password" required minlength="6">
                        <button type="button" class="toggle-password" onclick="togglePassword('password')">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                    <div class="password-strength" id="password-strength"></div>
                </div>
                <div class="form-group">
                    <label for="confirm-password">Confirm password</label>
                    <div class="password-input">
                        <input type="password" id="confirm-password" name="confirmPassword" placeholder="Confirm your password" required>
                        <button type="button" class="toggle-password" onclick="togglePassword('confirm-password')">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                </div>
                <div class="form-options">
                    <label class="checkbox-label">
                        <input type="checkbox" id="terms" required> 
                        I agree to the <a href="#">Terms and Conditions</a>
                    </label>
                </div>
                <button type="submit" class="btn-submit" id="submit-btn">
                    <span class="btn-text">Sign Up</span>
                    <span class="btn-loader" style="display: none;">
                        <i class="fas fa-spinner fa-spin"></i>
                    </span>
                </button>
            </form>

            <div class="auth-divider">
                <span>or</span>
            </div>

            <div class="social-login">
                <button class="btn-social google">
                    <i class="fab fa-google"></i>
                    Sign up with Google
                </button>
                <button class="btn-social facebook">
                    <i class="fab fa-facebook"></i>
                    Sign up with Facebook
                </button>
            </div>

            <div class="auth-footer">
                <p>Already have an account? <a href="/login">Log in</a></p>
            </div>
        </div>
    </div>

    <script src="/js/auth.js"></script>
    <script>
        function togglePassword(inputId) {
            const passwordInput = document.getElementById(inputId);
            const icon = passwordInput.parentElement.querySelector('.toggle-password i');
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                icon.classList.replace('fa-eye', 'fa-eye-slash');
            } else {
                passwordInput.type = 'password';
                icon.classList.replace('fa-eye-slash', 'fa-eye');
            }
        }

        // Password strength indicator
        document.getElementById('password').addEventListener('input', function(e) {
            const password = e.target.value;
            const strengthDiv = document.getElementById('password-strength');
            let strength = 0;
            let text = '';
            let color = '';

            if (password.length >= 6) strength++;
            if (password.length >= 10) strength++;
            if (/[A-Z]/.test(password)) strength++;
            if (/[0-9]/.test(password)) strength++;
            if (/[^A-Za-z0-9]/.test(password)) strength++;

            switch(strength) {
                case 0:
                case 1:
                    text = 'Weak';
                    color = '#e74c3c';
                    break;
                case 2:
                case 3:
                    text = 'Medium';
                    color = '#f39c12';
                    break;
                case 4:
                case 5:
                    text = 'Strong';
                    color = '#1db954';
                    break;
            }

            if (password.length > 0) {
                strengthDiv.innerHTML = `<span style="color: ${color}">Password strength: ${text}</span>`;
            } else {
                strengthDiv.innerHTML = '';
            }
        });
    </script>
</body>
</html>
